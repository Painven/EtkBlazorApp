@inject ISettingStorage settings

@if (selectedTab == tabData)
{
<div id="main_tab">
    <div class="form-group">
        <label for="ozon_client_id">ID клиента</label>
        <input type="text" class="form-control" id="ozon_client_id" @bind="client_id">
    </div>
    <div class="form-group">
        <label for="ozon_api_key">API ключ</label>
        <input type="text" class="form-control" id="ozon_api_key" @bind="api_key">
    </div>
</div>
}

@code {

    [Parameter] public SettingsTabData tabData { get; set; }
    [CascadingParameter] public SettingsTabData selectedTab { get; set; }

    string client_id, api_key;

    protected override async Task OnInitializedAsync()
    {
        client_id = await settings.GetValue("ozon_seller_client_id");
        api_key = await settings.GetValue("ozon_seller_api_key");

        tabData.SaveButtonClicked = new Action(async() =>
        {
            await settings.SetValue("ozon_seller_client_id", client_id);
            await settings.SetValue("ozon_seller_api_key", api_key);
        });
    }
}