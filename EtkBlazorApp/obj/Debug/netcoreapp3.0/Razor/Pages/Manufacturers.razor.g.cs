#pragma checksum "D:\Programming\CSharp\Blazor\EtkBlazorApp\EtkBlazorApp\Pages\Manufacturers.razor" "{ff1816ec-aa5e-4d10-87f7-6f4963833460}" "816297bd3e28cd9dbb9fb55538e755f6686d3b2c"
// <auto-generated/>
#pragma warning disable 1591
namespace EtkBlazorApp.Pages
{
    #line hidden
    using System;
    using System.Collections.Generic;
    using System.Linq;
    using System.Threading.Tasks;
    using Microsoft.AspNetCore.Components;
#nullable restore
#line 1 "D:\Programming\CSharp\Blazor\EtkBlazorApp\EtkBlazorApp\_Imports.razor"
using System.Net.Http;

#line default
#line hidden
#nullable disable
#nullable restore
#line 2 "D:\Programming\CSharp\Blazor\EtkBlazorApp\EtkBlazorApp\_Imports.razor"
using Microsoft.AspNetCore.Authorization;

#line default
#line hidden
#nullable disable
#nullable restore
#line 3 "D:\Programming\CSharp\Blazor\EtkBlazorApp\EtkBlazorApp\_Imports.razor"
using Microsoft.AspNetCore.Components.Authorization;

#line default
#line hidden
#nullable disable
#nullable restore
#line 4 "D:\Programming\CSharp\Blazor\EtkBlazorApp\EtkBlazorApp\_Imports.razor"
using Microsoft.AspNetCore.Components.Forms;

#line default
#line hidden
#nullable disable
#nullable restore
#line 5 "D:\Programming\CSharp\Blazor\EtkBlazorApp\EtkBlazorApp\_Imports.razor"
using Microsoft.AspNetCore.Components.Routing;

#line default
#line hidden
#nullable disable
#nullable restore
#line 6 "D:\Programming\CSharp\Blazor\EtkBlazorApp\EtkBlazorApp\_Imports.razor"
using Microsoft.AspNetCore.Components.Web;

#line default
#line hidden
#nullable disable
#nullable restore
#line 7 "D:\Programming\CSharp\Blazor\EtkBlazorApp\EtkBlazorApp\_Imports.razor"
using Microsoft.JSInterop;

#line default
#line hidden
#nullable disable
#nullable restore
#line 8 "D:\Programming\CSharp\Blazor\EtkBlazorApp\EtkBlazorApp\_Imports.razor"
using EtkBlazorApp;

#line default
#line hidden
#nullable disable
#nullable restore
#line 9 "D:\Programming\CSharp\Blazor\EtkBlazorApp\EtkBlazorApp\_Imports.razor"
using EtkBlazorApp.Shared;

#line default
#line hidden
#nullable disable
#nullable restore
#line 10 "D:\Programming\CSharp\Blazor\EtkBlazorApp\EtkBlazorApp\_Imports.razor"
using BlazorInputFile;

#line default
#line hidden
#nullable disable
#nullable restore
#line 11 "D:\Programming\CSharp\Blazor\EtkBlazorApp\EtkBlazorApp\_Imports.razor"
using EtkBlazorApp.Data;

#line default
#line hidden
#nullable disable
#nullable restore
#line 12 "D:\Programming\CSharp\Blazor\EtkBlazorApp\EtkBlazorApp\_Imports.razor"
using EtkBlazorApp.Services;

#line default
#line hidden
#nullable disable
#nullable restore
#line 3 "D:\Programming\CSharp\Blazor\EtkBlazorApp\EtkBlazorApp\Pages\Manufacturers.razor"
using EtkBlazorApp.DataAccess;

#line default
#line hidden
#nullable disable
#nullable restore
#line 4 "D:\Programming\CSharp\Blazor\EtkBlazorApp\EtkBlazorApp\Pages\Manufacturers.razor"
using EtkBlazorApp.Components;

#line default
#line hidden
#nullable disable
    [Microsoft.AspNetCore.Components.RouteAttribute("/manufacturers")]
    public partial class Manufacturers : Microsoft.AspNetCore.Components.ComponentBase
    {
        #pragma warning disable 1998
        protected override void BuildRenderTree(Microsoft.AspNetCore.Components.Rendering.RenderTreeBuilder __builder)
        {
            __builder.AddMarkupContent(0, "<h1>Производители</h1>\r\n");
#nullable restore
#line 9 "D:\Programming\CSharp\Blazor\EtkBlazorApp\EtkBlazorApp\Pages\Manufacturers.razor"
 if (manufacturers == null)
{

#line default
#line hidden
#nullable disable
            __builder.AddContent(1, "    ");
            __builder.AddMarkupContent(2, "<h3>Загрузка данных ...</h3>\r\n");
#nullable restore
#line 12 "D:\Programming\CSharp\Blazor\EtkBlazorApp\EtkBlazorApp\Pages\Manufacturers.razor"
}
else
{

#line default
#line hidden
#nullable disable
            __builder.AddContent(3, "    ");
            __builder.OpenComponent<Microsoft.AspNetCore.Components.Authorization.AuthorizeView>(4);
            __builder.AddAttribute(5, "Authorized", (Microsoft.AspNetCore.Components.RenderFragment<Microsoft.AspNetCore.Components.Authorization.AuthenticationState>)((context) => (__builder2) => {
                __builder2.AddMarkupContent(6, "\r\n            ");
                __builder2.AddMarkupContent(7, "<h3>Список производителей на сайте</h3>\r\n            ");
                __builder2.OpenElement(8, "div");
                __builder2.AddAttribute(9, "class", "row");
                __builder2.AddMarkupContent(10, "\r\n                ");
                __builder2.OpenElement(11, "table");
                __builder2.AddAttribute(12, "class", "table table-hover");
                __builder2.AddAttribute(13, "style", "width: 100%");
                __builder2.AddMarkupContent(14, "\r\n                    ");
                __builder2.AddMarkupContent(15, @"<thead class=""thead-dark"">
                        <tr>
                            <th>Производитель</th>
                            <th>Срок поставки (дней)</th>
                            <th>Следующая поставка</th>
                            <th>Изменить</th>
                        </tr>
                    </thead>
                    ");
                __builder2.OpenElement(16, "tbody");
                __builder2.AddMarkupContent(17, "\r\n");
#nullable restore
#line 29 "D:\Programming\CSharp\Blazor\EtkBlazorApp\EtkBlazorApp\Pages\Manufacturers.razor"
                         foreach (var item in manufacturers)
                        {

#line default
#line hidden
#nullable disable
                __builder2.AddContent(18, "                            ");
                __builder2.OpenElement(19, "tr");
                __builder2.AddMarkupContent(20, "\r\n                                ");
                __builder2.OpenElement(21, "td");
                __builder2.OpenElement(22, "a");
                __builder2.AddAttribute(23, "href", 
#nullable restore
#line 32 "D:\Programming\CSharp\Blazor\EtkBlazorApp\EtkBlazorApp\Pages\Manufacturers.razor"
                                              item.Uri

#line default
#line hidden
#nullable disable
                );
                __builder2.AddAttribute(24, "target", "_blank");
                __builder2.AddContent(25, 
#nullable restore
#line 32 "D:\Programming\CSharp\Blazor\EtkBlazorApp\EtkBlazorApp\Pages\Manufacturers.razor"
                                                                         item.name

#line default
#line hidden
#nullable disable
                );
                __builder2.CloseElement();
                __builder2.CloseElement();
                __builder2.AddMarkupContent(26, "\r\n\r\n");
#nullable restore
#line 34 "D:\Programming\CSharp\Blazor\EtkBlazorApp\EtkBlazorApp\Pages\Manufacturers.razor"
                                 if (editManufacturer != item)
                                {

#line default
#line hidden
#nullable disable
                __builder2.AddContent(27, "                                    ");
                __builder2.OpenElement(28, "td");
                __builder2.AddContent(29, 
#nullable restore
#line 36 "D:\Programming\CSharp\Blazor\EtkBlazorApp\EtkBlazorApp\Pages\Manufacturers.razor"
                                         item.shipment_period

#line default
#line hidden
#nullable disable
                );
                __builder2.CloseElement();
                __builder2.AddMarkupContent(30, "\r\n                                    ");
                __builder2.OpenElement(31, "td");
                __builder2.AddContent(32, 
#nullable restore
#line 37 "D:\Programming\CSharp\Blazor\EtkBlazorApp\EtkBlazorApp\Pages\Manufacturers.razor"
                                         item.NextShipmentDate.ToShortDateString()

#line default
#line hidden
#nullable disable
                );
                __builder2.CloseElement();
                __builder2.AddMarkupContent(33, "\r\n                                    ");
                __builder2.OpenElement(34, "td");
                __builder2.OpenElement(35, "button");
                __builder2.AddAttribute(36, "class", "btn-secondary btn-sm");
                __builder2.AddAttribute(37, "onclick", Microsoft.AspNetCore.Components.EventCallback.Factory.Create<Microsoft.AspNetCore.Components.Web.MouseEventArgs>(this, 
#nullable restore
#line 38 "D:\Programming\CSharp\Blazor\EtkBlazorApp\EtkBlazorApp\Pages\Manufacturers.razor"
                                                                                         e => EditManufacturer(item)

#line default
#line hidden
#nullable disable
                ));
                __builder2.AddMarkupContent(38, "Изменить");
                __builder2.CloseElement();
                __builder2.CloseElement();
                __builder2.AddMarkupContent(39, "\r\n");
#nullable restore
#line 39 "D:\Programming\CSharp\Blazor\EtkBlazorApp\EtkBlazorApp\Pages\Manufacturers.razor"
                                }
                                else
                                {

#line default
#line hidden
#nullable disable
                __builder2.AddContent(40, "                                    ");
                __builder2.OpenElement(41, "td");
                __builder2.OpenElement(42, "input");
                __builder2.AddAttribute(43, "value", Microsoft.AspNetCore.Components.BindConverter.FormatValue(
#nullable restore
#line 42 "D:\Programming\CSharp\Blazor\EtkBlazorApp\EtkBlazorApp\Pages\Manufacturers.razor"
                                                      item.shipment_period

#line default
#line hidden
#nullable disable
                ));
                __builder2.AddAttribute(44, "onchange", Microsoft.AspNetCore.Components.EventCallback.Factory.CreateBinder(this, __value => item.shipment_period = __value, item.shipment_period));
                __builder2.SetUpdatesAttributeName("value");
                __builder2.CloseElement();
                __builder2.CloseElement();
                __builder2.AddMarkupContent(45, "\r\n                                    ");
                __builder2.OpenElement(46, "td");
                __builder2.AddContent(47, 
#nullable restore
#line 43 "D:\Programming\CSharp\Blazor\EtkBlazorApp\EtkBlazorApp\Pages\Manufacturers.razor"
                                         item.NextShipmentDate.ToShortDateString()

#line default
#line hidden
#nullable disable
                );
                __builder2.CloseElement();
                __builder2.AddMarkupContent(48, "\r\n                                    ");
                __builder2.OpenElement(49, "td");
                __builder2.OpenElement(50, "button");
                __builder2.AddAttribute(51, "class", "btn-info btn-sm");
                __builder2.AddAttribute(52, "onclick", Microsoft.AspNetCore.Components.EventCallback.Factory.Create<Microsoft.AspNetCore.Components.Web.MouseEventArgs>(this, 
#nullable restore
#line 44 "D:\Programming\CSharp\Blazor\EtkBlazorApp\EtkBlazorApp\Pages\Manufacturers.razor"
                                                                                    e => ConfirmManufacturerChanges(item)

#line default
#line hidden
#nullable disable
                ));
                __builder2.AddMarkupContent(53, "Подтвердить");
                __builder2.CloseElement();
                __builder2.CloseElement();
                __builder2.AddMarkupContent(54, "\r\n");
#nullable restore
#line 45 "D:\Programming\CSharp\Blazor\EtkBlazorApp\EtkBlazorApp\Pages\Manufacturers.razor"
                                }

#line default
#line hidden
#nullable disable
                __builder2.AddContent(55, "                            ");
                __builder2.CloseElement();
                __builder2.AddMarkupContent(56, "\r\n");
#nullable restore
#line 47 "D:\Programming\CSharp\Blazor\EtkBlazorApp\EtkBlazorApp\Pages\Manufacturers.razor"
                        }

#line default
#line hidden
#nullable disable
                __builder2.AddContent(57, "                    ");
                __builder2.CloseElement();
                __builder2.AddMarkupContent(58, "\r\n                ");
                __builder2.CloseElement();
                __builder2.AddMarkupContent(59, "\r\n            ");
                __builder2.CloseElement();
                __builder2.AddMarkupContent(60, "\r\n        ");
            }
            ));
            __builder.AddAttribute(61, "NotAuthorized", (Microsoft.AspNetCore.Components.RenderFragment<Microsoft.AspNetCore.Components.Authorization.AuthenticationState>)((context) => (__builder2) => {
                __builder2.AddMarkupContent(62, "\r\n            ");
                __builder2.AddMarkupContent(63, "<h3>Список производителей на сайте</h3>\r\n            ");
                __builder2.OpenElement(64, "div");
                __builder2.AddAttribute(65, "class", "row");
                __builder2.AddMarkupContent(66, "\r\n                ");
                __builder2.OpenElement(67, "table");
                __builder2.AddAttribute(68, "class", "table table-hover");
                __builder2.AddAttribute(69, "style", "width: 100%");
                __builder2.AddMarkupContent(70, "\r\n                    ");
                __builder2.AddMarkupContent(71, @"<thead class=""thead-dark"">
                        <tr>
                            <th>Производитель</th>
                            <th>Срок поставки (дней)</th>
                            <th>Следующая поставка</th>
                        </tr>
                    </thead>
                    ");
                __builder2.OpenElement(72, "tbody");
                __builder2.AddMarkupContent(73, "\r\n");
#nullable restore
#line 64 "D:\Programming\CSharp\Blazor\EtkBlazorApp\EtkBlazorApp\Pages\Manufacturers.razor"
                         foreach (var item in manufacturers)
                        {

#line default
#line hidden
#nullable disable
                __builder2.AddContent(74, "                        ");
                __builder2.OpenElement(75, "tr");
                __builder2.AddMarkupContent(76, "\r\n                            ");
                __builder2.OpenElement(77, "td");
                __builder2.OpenElement(78, "a");
                __builder2.AddAttribute(79, "href", 
#nullable restore
#line 67 "D:\Programming\CSharp\Blazor\EtkBlazorApp\EtkBlazorApp\Pages\Manufacturers.razor"
                                          item.Uri

#line default
#line hidden
#nullable disable
                );
                __builder2.AddAttribute(80, "target", "_blank");
                __builder2.AddContent(81, 
#nullable restore
#line 67 "D:\Programming\CSharp\Blazor\EtkBlazorApp\EtkBlazorApp\Pages\Manufacturers.razor"
                                                                     item.name

#line default
#line hidden
#nullable disable
                );
                __builder2.CloseElement();
                __builder2.CloseElement();
                __builder2.AddMarkupContent(82, "\r\n                            ");
                __builder2.OpenElement(83, "td");
                __builder2.AddContent(84, 
#nullable restore
#line 68 "D:\Programming\CSharp\Blazor\EtkBlazorApp\EtkBlazorApp\Pages\Manufacturers.razor"
                                 item.shipment_period

#line default
#line hidden
#nullable disable
                );
                __builder2.CloseElement();
                __builder2.AddMarkupContent(85, "\r\n                            ");
                __builder2.OpenElement(86, "td");
                __builder2.AddContent(87, 
#nullable restore
#line 69 "D:\Programming\CSharp\Blazor\EtkBlazorApp\EtkBlazorApp\Pages\Manufacturers.razor"
                                 item.NextShipmentDate.ToShortDateString()

#line default
#line hidden
#nullable disable
                );
                __builder2.CloseElement();
                __builder2.AddMarkupContent(88, "\r\n                        ");
                __builder2.CloseElement();
                __builder2.AddMarkupContent(89, "\r\n");
#nullable restore
#line 71 "D:\Programming\CSharp\Blazor\EtkBlazorApp\EtkBlazorApp\Pages\Manufacturers.razor"
                        }

#line default
#line hidden
#nullable disable
                __builder2.AddContent(90, "                    ");
                __builder2.CloseElement();
                __builder2.AddMarkupContent(91, "\r\n                ");
                __builder2.CloseElement();
                __builder2.AddMarkupContent(92, "\r\n            ");
                __builder2.CloseElement();
                __builder2.AddMarkupContent(93, "\r\n        ");
            }
            ));
            __builder.CloseComponent();
            __builder.AddMarkupContent(94, "\r\n");
#nullable restore
#line 77 "D:\Programming\CSharp\Blazor\EtkBlazorApp\EtkBlazorApp\Pages\Manufacturers.razor"
}

#line default
#line hidden
#nullable disable
        }
        #pragma warning restore 1998
#nullable restore
#line 79 "D:\Programming\CSharp\Blazor\EtkBlazorApp\EtkBlazorApp\Pages\Manufacturers.razor"
       

    List<ManufacturerViewModel> manufacturers = null;
    ManufacturerViewModel editManufacturer = null;

    private void EditManufacturer(ManufacturerViewModel manufacturer)
    {
        editManufacturer = manufacturer;
    }

    private async Task ConfirmManufacturerChanges(ManufacturerViewModel manufacturer)
    {
        var data = new ManufacturerModel() { manufacturer_id = manufacturer.manufacturer_id, shipment_period = manufacturer.shipment_period };
        await _database.SaveManufacturer(data);
        editManufacturer = null;
    }

    protected override async Task OnInitializedAsync()
    {
        manufacturers = (await _database.GetManufacturers())
            .Select(model => new ManufacturerViewModel()
            {
                name = model.name,
                keyword = model.keyword,
                manufacturer_id = model.manufacturer_id,
                shipment_period = model.shipment_period,
                productsCount = model.productsCount
            })
            .ToList();
    }


#line default
#line hidden
#nullable disable
        [global::Microsoft.AspNetCore.Components.InjectAttribute] private IDatabase _database { get; set; }
    }
}
#pragma warning restore 1591
